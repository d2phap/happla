{"version":3,"sources":["webpack://demo/@d2phap/happla/webpack/universalModuleDefinition","webpack://demo/@d2phap/happla/webpack/bootstrap","webpack://demo/webpack:/@d2phap/happla/webpack/runtime/define property getters","webpack://demo/webpack:/@d2phap/happla/webpack/runtime/hasOwnProperty shorthand","webpack://demo/webpack:/@d2phap/happla/webpack/runtime/make namespace object","webpack://demo/@d2phap/happla/src/modules/helpers.ts","webpack://demo/@d2phap/happla/src/modules/Board.ts","webpack://demo/webpack/bootstrap","webpack://demo/webpack/runtime/compat get default export","webpack://demo/webpack/runtime/define property getters","webpack://demo/webpack/runtime/hasOwnProperty shorthand","webpack://demo/webpack/runtime/make namespace object","webpack://demo/./index.ts"],"names":["root","factory","module","exports","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","InterpolationMode","board","boardContent","options","imageRendering","Pixelated","allowZoom","minZoom","maxZoom","zoomFactor","panOffset","x","y","allowPan","onBeforeZoomChanged","onAfterZoomChanged","onAfterTransformed","onAfterPanOffsetChanged","elBoard","elBoardContent","defaultOptions","domMatrix","DOMMatrix","a","d","e","f","zoomDistance","bind","moveDistance","startMoving","stopMoving","enable","disable","zoomTo","panTo","applyTransform","waitForContentReady","onMouseWheel","onPointerDown","onPointerUp","onPointerMove","onKeyDown","onKeyUp","style","transformOrigin","touchAction","overflow","duration","Promise","resolve","transform","toString","transition","setTimeout","undefined","deltaY","direction","normalizedDeltaY","Math","abs","delta","clientX","clientY","button","isPointerDown","event","arrowLeftDown","moving","arrowUpDown","arrowRightDown","arrowDownDown","every","keyDown","dx","dy","min","max","newX","offsetLeft","newY","offsetTop","translateSelf","scaleSelf","multiplySelf","speed","ceil","clientWidth","animationFrame","requestAnimationFrame","cancelAnimationFrame","factor","addEventListener","passive","removeEventListener","opacity","list","querySelectorAll","imgs","Array","from","some","i","complete"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"@d2phap/happla\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@d2phap/happla\"] = factory();\n\telse\n\t\troot[\"@d2phap/happla\"] = factory();\n})(this, function() {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\nexport interface IRect {\n  left: number;\n  right: number;\n  top: number;\n  bottom: number;\n}\n\nexport const pause = (duration: number) => new Promise((resolve) => setTimeout(resolve, duration));\n\nexport const checkRectanglesIntersection = (rectangle1: IRect, rectangle2: IRect) => !(\n  rectangle2.left > rectangle1.right\n  || rectangle2.right < rectangle1.left\n  || rectangle2.top > rectangle1.bottom\n  || rectangle2.bottom < rectangle1.top\n);\n","import { pause } from './helpers';\n\nexport type ZoomEventFunction = (zoomFactor: number, point: {\n  x: number;\n  y: number;\n}) => void;\n\nexport type TransformEventFunction = (matrix: DOMMatrix) => void;\nexport type PanningEventFunction = ({ x, y }: { x: number, y: number }) => void;\n\nexport enum InterpolationMode {\n  Pixelated = 'pixelated',\n  Auto = 'auto',\n  CrispEdges = 'crisp-edges',\n}\n\nexport interface BoardOptions {\n  allowZoom?: boolean;\n  zoomFactor?: number;\n  minZoom?: number;\n  maxZoom?: number;\n\n  allowPan?: boolean;\n  panOffset?: { x: number, y: number };\n\n  imageRendering?: InterpolationMode;\n\n  onBeforeZoomChanged?: ZoomEventFunction;\n  onAfterZoomChanged?: ZoomEventFunction;\n  onAfterTransformed?: TransformEventFunction;\n  onAfterPanOffsetChanged?: PanningEventFunction;\n}\n\nexport class Board {\n  private elBoardContent: HTMLElement;\n  private elBoard: HTMLElement;\n  private domMatrix: DOMMatrix;\n  private isPointerDown = false;\n\n  private animationFrame: number;\n  private moving = false;\n  private arrowLeftDown = false;\n  private arrowRightDown = false;\n  private arrowUpDown = false;\n  private arrowDownDown = false;\n\n  private options: BoardOptions;\n  private defaultOptions: BoardOptions = {\n    imageRendering: InterpolationMode.Pixelated,\n\n    allowZoom: true,\n    minZoom: 0.05,\n    maxZoom: 10_000,\n    zoomFactor: 1,\n    panOffset: { x: 0, y: 0 },\n\n    allowPan: true,\n\n    onBeforeZoomChanged: () => ({}),\n    onAfterZoomChanged: () => ({}),\n    onAfterTransformed: () => ({}),\n    onAfterPanOffsetChanged: () => ({}),\n  };\n\n  constructor(board: HTMLElement, boardContent: HTMLElement, options?: BoardOptions) {\n    this.elBoard = board;\n    this.elBoardContent = boardContent;\n\n    this.options = {\n      ...this.defaultOptions,\n      ...options || {},\n    };\n\n    this.domMatrix = new DOMMatrix();\n    this.domMatrix.a = this.options.zoomFactor;\n    this.domMatrix.d = this.options.zoomFactor;\n    this.domMatrix.e = this.options.panOffset.x;\n    this.domMatrix.f = this.options.panOffset.y;\n\n    this.zoomDistance = this.zoomDistance.bind(this);\n    this.moveDistance = this.moveDistance.bind(this);\n    this.startMoving = this.startMoving.bind(this);\n    this.stopMoving = this.stopMoving.bind(this);\n\n    this.enable = this.enable.bind(this);\n    this.disable = this.disable.bind(this);\n    this.zoomTo = this.zoomTo.bind(this);\n    this.panTo = this.panTo.bind(this);\n    this.applyTransform = this.applyTransform.bind(this);\n    this.waitForContentReady = this.waitForContentReady.bind(this);\n\n    this.onMouseWheel = this.onMouseWheel.bind(this);\n    this.onPointerDown = this.onPointerDown.bind(this);\n    this.onPointerUp = this.onPointerUp.bind(this);\n    this.onPointerMove = this.onPointerMove.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onKeyUp = this.onKeyUp.bind(this);\n\n    this.disable();\n\n    this.elBoardContent.style.transformOrigin = 'top left';\n    this.elBoard.style.touchAction = 'none';\n    this.elBoard.style.overflow = 'hidden';\n  }\n\n  // #region Getters & Setters\n  get imageRendering() {\n    return this.options.imageRendering;\n  }\n\n  set imageRendering(value: InterpolationMode) {\n    this.options.imageRendering = value;\n    this.elBoardContent.style.imageRendering = value;\n  }\n  // #endregion\n\n\n  // #region Private functions\n  private applyTransform(duration: number = 0) {\n    return new Promise((resolve) => {\n      this.elBoardContent.style.transform = `${this.domMatrix.toString()}`;\n\n      // apply animation\n      if (duration > 0) {\n        const transition = `transform ${duration}ms ease, opacity ${duration}ms ease`;\n        this.elBoardContent.style.transition = transition;\n\n        setTimeout(() => {\n          // raise event\n          this.options.onAfterTransformed(this.domMatrix);\n          resolve(undefined);\n        }, duration);\n      }\n      else {\n        this.elBoardContent.style.transition = '';\n\n        // raise event\n        this.options.onAfterTransformed(this.domMatrix);\n        resolve(undefined);\n      }\n    });\n  }\n\n  private onMouseWheel(e: WheelEvent) {\n    // ignore horizontal scroll events\n    if (e.deltaY === 0) {\n      return;\n    }\n\n    const direction = e.deltaY < 0 ? 'up' : 'down';\n    const normalizedDeltaY = 1 + Math.abs(e.deltaY) / 300; // speed\n    const delta = direction === 'up' ? normalizedDeltaY : 1 / normalizedDeltaY;\n\n    this.zoomDistance(delta, e.clientX, e.clientY);\n  }\n\n  private onPointerDown(e: PointerEvent) {\n    // ignore right clicks\n    if (e.button !== 0) {\n      return;\n    }\n\n    this.isPointerDown = true;\n\n    // We get the pointer position on click so we can get the value once the user starts to drag\n    this.options.panOffset.x = e.clientX;\n    this.options.panOffset.y = e.clientY;\n  }\n\n  private onPointerMove(event: PointerEvent) {\n    // Only run this function if the pointer is down\n    if (!this.isPointerDown) {\n      return;\n    }\n\n    this.moveDistance(\n      event.clientX - this.options.panOffset.x,\n      event.clientY - this.options.panOffset.y,\n    );\n\n    this.options.panOffset.x = event.clientX;\n    this.options.panOffset.y = event.clientY;\n  }\n\n  private onPointerUp(e: PointerEvent) {\n    if (!this.isPointerDown) {\n      return;\n    }\n\n    this.isPointerDown = false;\n\n    this.options.panOffset.x += e.clientX - this.options.panOffset.x;\n    this.options.panOffset.y += e.clientY - this.options.panOffset.y;\n\n    this.options.onAfterPanOffsetChanged({\n      x: this.domMatrix.e,\n      y: this.domMatrix.f,\n    });\n  }\n\n  private onKeyDown(event: KeyboardEvent) {\n    switch (event.key) {\n      case 'ArrowLeft':\n        this.arrowLeftDown = true;\n        if (!this.moving) {\n          this.moving = true;\n          this.startMoving();\n        }\n        break;\n      case 'ArrowUp':\n        this.arrowUpDown = true;\n        if (!this.moving) {\n          this.moving = true;\n          this.startMoving();\n        }\n        break;\n      case 'ArrowRight':\n        this.arrowRightDown = true;\n        if (!this.moving) {\n          this.moving = true;\n          this.startMoving();\n        }\n        break;\n      case 'ArrowDown':\n        this.arrowDownDown = true;\n        if (!this.moving) {\n          this.moving = true;\n          this.startMoving();\n        }\n        break;\n      default:\n        break;\n    }\n  }\n\n  private onKeyUp(event: KeyboardEvent) {\n    switch (event.key) {\n      case 'ArrowLeft':\n        this.arrowLeftDown = false;\n        break;\n      case 'ArrowUp':\n        this.arrowUpDown = false;\n        break;\n      case 'ArrowRight':\n        this.arrowRightDown = false;\n        break;\n      case 'ArrowDown':\n        this.arrowDownDown = false;\n        break;\n      default:\n        break;\n    }\n\n    if ([\n      this.arrowLeftDown,\n      this.arrowUpDown,\n      this.arrowRightDown,\n      this.arrowDownDown,\n    ].every((keyDown) => !keyDown)) {\n      this.stopMoving();\n    }\n  }\n\n  private moveDistance(x = 0, y = 0) {\n    // Update the transform coordinates with the distance from origin and current position\n    this.domMatrix.e += x;\n    this.domMatrix.f += y;\n\n    this.applyTransform();\n  }\n\n  private zoomDistance(delta: number, dx?: number, dy?: number, duration?: number) {\n    if (!this.options.allowZoom) {\n      return;\n    }\n\n    this.options.zoomFactor *= delta;\n\n    // restrict the zoom factor\n    this.options.zoomFactor = Math.min(\n      Math.max(this.options.minZoom, this.options.zoomFactor),\n      this.options.maxZoom,\n    );\n\n    // raise event onBeforeZoomChanged\n    this.options.onBeforeZoomChanged(this.options.zoomFactor, {\n      x: this.domMatrix.e,\n      y: this.domMatrix.f,\n    });\n\n    const newX = (dx ?? this.elBoard.offsetLeft) - this.elBoard.offsetLeft;\n    const newY = (dy ?? this.elBoard.offsetTop) - this.elBoard.offsetTop;\n\n    this.domMatrix = new DOMMatrix()\n      .translateSelf(newX, newY)\n      .scaleSelf(delta)\n      .translateSelf(-newX, -newY)\n      .multiplySelf(this.domMatrix);\n\n    // raise event onAfterZoomChanged\n    this.options.onAfterZoomChanged(this.options.zoomFactor, {\n      x: this.domMatrix.e,\n      y: this.domMatrix.f,\n    });\n\n    this.applyTransform(duration);\n  }\n\n  private startMoving() {\n    const speed = Math.ceil(this.elBoardContent.clientWidth / 100);\n    let x = 0;\n    let y = 0;\n\n    if (this.arrowLeftDown && !this.arrowRightDown) {\n      x = speed;\n    } else if (!this.arrowLeftDown && this.arrowRightDown) {\n      x = -speed;\n    }\n\n    if (this.arrowUpDown && !this.arrowDownDown) {\n      y = speed;\n    } else if (!this.arrowUpDown && this.arrowDownDown) {\n      y = -speed;\n    }\n\n    this.moveDistance(x, y);\n    this.animationFrame = requestAnimationFrame(this.startMoving);\n  }\n\n  private stopMoving() {\n    cancelAnimationFrame(this.animationFrame);\n    this.moving = false;\n  }\n  // #endregion\n\n\n  // #region Public functions\n  public async panTo(x: number, y: number) {\n    this.domMatrix.e = x;\n    this.domMatrix.f = y;\n\n    await this.applyTransform(300);\n  }\n\n  public async zoomTo(factor: number, x?: number, y?: number, duration?: number) {\n    // restrict the zoom factor\n    this.options.zoomFactor = Math.min(\n      Math.max(this.options.minZoom, factor),\n      this.options.maxZoom,\n    );\n\n    // raise event onBeforeZoomChanged\n    this.options.onBeforeZoomChanged(this.options.zoomFactor, {\n      x: this.domMatrix.e,\n      y: this.domMatrix.f,\n    });\n\n    // apply scale and translate value\n    this.domMatrix.a = this.options.zoomFactor;\n    this.domMatrix.d = this.options.zoomFactor;\n    this.domMatrix.e = x || 0;\n    this.domMatrix.f = y || 0;\n\n    // raise event onAfterZoomChanged\n    this.options.onAfterZoomChanged(this.options.zoomFactor, {\n      x: this.domMatrix.e,\n      y: this.domMatrix.f,\n    });\n\n    await this.applyTransform(duration);\n  }\n\n  public enable() {\n    this.applyTransform();\n\n    this.elBoard.addEventListener('wheel', this.onMouseWheel, { passive: true });\n\n    this.elBoard.addEventListener('pointerdown', this.onPointerDown);\n    this.elBoard.addEventListener('pointerup', this.onPointerUp);\n    this.elBoard.addEventListener('pointerleave', this.onPointerUp);\n    this.elBoard.addEventListener('pointermove', this.onPointerMove);\n\n    this.elBoard.addEventListener('keydown', this.onKeyDown);\n    this.elBoard.addEventListener('keyup', this.onKeyUp);\n  }\n\n  public disable() {\n    this.elBoard.removeEventListener('mousewheel', this.onMouseWheel);\n\n    this.elBoard.removeEventListener('pointerdown', this.onPointerDown);\n    this.elBoard.removeEventListener('pointerup', this.onPointerUp);\n    this.elBoard.removeEventListener('pointerleave', this.onPointerUp);\n    this.elBoard.removeEventListener('pointermove', this.onPointerMove);\n\n    this.elBoard.removeEventListener('keydown', this.onKeyDown);\n    this.elBoard.removeEventListener('keyup', this.onKeyUp);\n  }\n\n  public async waitForContentReady() {\n    this.elBoardContent.style.opacity = '0';\n    const list = this.elBoardContent.querySelectorAll('img');\n    const imgs = Array.from(list);\n\n    while (imgs.some((i) => !i.complete)) {\n      // eslint-disable-next-line\n      await pause(10);\n    }\n\n    this.elBoardContent.style.opacity = '1';\n  }\n  // #endregion\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// @ts-nocheck\nimport { Board, InterpolationMode } from '@d2phap/happla';\n\nconst elBoard = document.getElementById('board');\nconst elBoardContent = document.getElementById('boardContent');\nconst board = new Board(elBoard, elBoardContent, {\n  //\n});\n\n\nboard.imageRendering = InterpolationMode.Pixelated;\nboard.waitForContentReady()\n  .then(async () => {\n    board.enable();\n\n    const w = elBoardContent.scrollWidth;\n    const h = elBoardContent.scrollHeight;\n\n    const widthScale = elBoard.clientWidth / w;\n    const heightScale = elBoard.clientHeight / h;\n    const scale = Math.min(widthScale, heightScale);\n\n    const x = (elBoard.offsetWidth - (w * scale)) / 2;\n    const y = (elBoard.offsetHeight - (h * scale)) / 2;\n\n    console.log(`${x}, ${y}`);\n    await board.zoomTo(scale, x, y);\n  });\n\n// const img = document.getElementById('img');\n\n// var poll = new Promise((resolve) => {\n//   setInterval(function () {\n//     if (img.naturalWidth) {\n//       clearInterval(poll);\n\n//       resolve({\n//         width: img.naturalWidth,\n//         height: img.naturalHeight,\n//       });\n//     }\n//   }, 5);\n// });\n\n// poll.then(async ({ width, height }) => {\n//   board.imageRendering = InterpolationMode.Pixelated;\n//   console.log(board.imageRendering);\n\n//   board.enable();\n\n//   const w = elBoardContent.scrollWidth;\n//   const h = elBoardContent.scrollHeight;\n\n//   const widthScale = elBoard.clientWidth / w;\n//   const heightScale = elBoard.clientHeight / h;\n//   const scale = Math.min(widthScale, heightScale);\n\n//   const x = (elBoard.offsetWidth - (w * scale)) / 2;\n//   const y = (elBoard.offsetHeight - (h * scale)) / 2;\n\n//   console.log(`${x}, ${y}`);\n//   await board.zoomTo(scale, x, y);\n\n//   // board.panTo(0, 0);\n// });\n\n"],"sourceRoot":""}