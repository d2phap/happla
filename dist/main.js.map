{"version":3,"sources":["webpack://@d2phap/happla/webpack/universalModuleDefinition","webpack://@d2phap/happla/./src/modules/Board.ts","webpack://@d2phap/happla/./src/modules/helpers.ts","webpack://@d2phap/happla/webpack/bootstrap","webpack://@d2phap/happla/webpack/runtime/define property getters","webpack://@d2phap/happla/webpack/runtime/hasOwnProperty shorthand","webpack://@d2phap/happla/webpack/runtime/make namespace object","webpack://@d2phap/happla/./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"@d2phap/happla\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@d2phap/happla\"] = factory();\n\telse\n\t\troot[\"@d2phap/happla\"] = factory();\n})(this, function() {\nreturn ","import { pause } from './helpers';\r\n\r\nexport type ZoomEventFunction = (zoomFactor: number, x: number, y: number) => void;\r\nexport type TransformEventFunction = (matrix: DOMMatrix) => void;\r\nexport type PanEventFunction = (x: number, y: number) => void;\r\n\r\nexport enum InterpolationMode {\r\n  Pixelated = 'pixelated',\r\n  Auto = 'auto',\r\n  CrispEdges = 'crisp-edges',\r\n}\r\n\r\nexport interface BoardOptions {\r\n  allowZoom?: boolean;\r\n  zoomFactor?: number;\r\n  minZoom?: number;\r\n  maxZoom?: number;\r\n\r\n  allowPan?: boolean;\r\n  panOffset?: { x: number, y: number };\r\n\r\n  imageRendering?: InterpolationMode;\r\n  scaleRatio?: number;\r\n\r\n  onBeforeContentReady?: () => void;\r\n  onContentReady?: () => void;\r\n\r\n  onBeforeZoomChanged?: ZoomEventFunction;\r\n  onAfterZoomChanged?: ZoomEventFunction;\r\n  onAfterTransformed?: TransformEventFunction;\r\n\r\n  onPanning?: PanEventFunction;\r\n  onAfterPanned?: PanEventFunction;\r\n}\r\n\r\nexport class Board {\r\n  private elBoardContent: HTMLElement;\r\n  private elBoard: HTMLElement;\r\n  private domMatrix: DOMMatrix;\r\n  private isPointerDown = false;\r\n\r\n  private animationFrame: number;\r\n  private isMoving = false;\r\n  private arrowLeftDown = false;\r\n  private arrowRightDown = false;\r\n  private arrowUpDown = false;\r\n  private arrowDownDown = false;\r\n\r\n  private options: BoardOptions;\r\n  private defaultOptions: BoardOptions = {\r\n    imageRendering: InterpolationMode.Pixelated,\r\n\r\n    allowZoom: true,\r\n    minZoom: 0.1,\r\n    maxZoom: 150,\r\n    zoomFactor: 1,\r\n    panOffset: { x: 0, y: 0 },\r\n\r\n    allowPan: true,\r\n    scaleRatio: window.devicePixelRatio,\r\n\r\n    onBeforeContentReady: () => {},\r\n    onContentReady: () => {},\r\n\r\n    onBeforeZoomChanged: () => {},\r\n    onAfterZoomChanged: () => {},\r\n    onAfterTransformed: () => {},\r\n\r\n    onPanning: () => {},\r\n    onAfterPanned: () => {},\r\n  };\r\n\r\n  constructor(board: HTMLElement, boardContent: HTMLElement, options?: BoardOptions) {\r\n    this.elBoard = board;\r\n    this.elBoardContent = boardContent;\r\n\r\n    this.options = {\r\n      ...this.defaultOptions,\r\n      ...options || {},\r\n    };\r\n\r\n    this.domMatrix = new DOMMatrix()\r\n      .scaleSelf(this.options.zoomFactor)\r\n      .translateSelf(this.options.panOffset.x, this.options.panOffset.y);\r\n\r\n    this.zoomDistance = this.zoomDistance.bind(this);\r\n    this.moveDistance = this.moveDistance.bind(this);\r\n    this.startMoving = this.startMoving.bind(this);\r\n    this.stopMoving = this.stopMoving.bind(this);\r\n    this.dpi = this.dpi.bind(this);\r\n    this.updateImageRendering = this.updateImageRendering.bind(this);\r\n\r\n    this.enable = this.enable.bind(this);\r\n    this.disable = this.disable.bind(this);\r\n    this.zoomTo = this.zoomTo.bind(this);\r\n    this.panTo = this.panTo.bind(this);\r\n    this.applyTransform = this.applyTransform.bind(this);\r\n    this.waitForContentReady = this.waitForContentReady.bind(this);\r\n\r\n    this.onMouseWheel = this.onMouseWheel.bind(this);\r\n    this.onPointerDown = this.onPointerDown.bind(this);\r\n    this.onPointerUp = this.onPointerUp.bind(this);\r\n    this.onPointerMove = this.onPointerMove.bind(this);\r\n    this.onKeyDown = this.onKeyDown.bind(this);\r\n    this.onKeyUp = this.onKeyUp.bind(this);\r\n\r\n    this.disable();\r\n\r\n    this.elBoardContent.style.transformOrigin = 'top left';\r\n    this.elBoard.style.touchAction = 'none';\r\n    this.elBoard.style.overflow = 'hidden';\r\n\r\n    // emit event onBeforeContentReady\r\n    this.options.onBeforeContentReady();\r\n  }\r\n\r\n  // #region Getters & Setters\r\n  get imageRendering() {\r\n    return this.options.imageRendering;\r\n  }\r\n\r\n  set imageRendering(value: InterpolationMode) {\r\n    this.options.imageRendering = value;\r\n    // this.elBoardContent.style.imageRendering = value;\r\n\r\n    this.updateImageRendering();\r\n  }\r\n\r\n  get scaleRatio() {\r\n    return this.options.scaleRatio;\r\n  }\r\n\r\n  set scaleRatio(value: number) {\r\n    this.options.scaleRatio = value;\r\n  }\r\n\r\n  /**\r\n   * Gets zoom factor after computing device ratio (DPI)\r\n   *\r\n   * @readonly\r\n   * @memberof Board\r\n   */\r\n  get zoomFactor() {\r\n    return this.options.zoomFactor * this.options.scaleRatio;\r\n  }\r\n  // #endregion\r\n\r\n\r\n  // #region Private functions\r\n  private onMouseWheel(e: WheelEvent) {\r\n    // ignore horizontal scroll events\r\n    if (e.deltaY === 0) {\r\n      return;\r\n    }\r\n\r\n    const direction = e.deltaY < 0 ? 'up' : 'down';\r\n    const normalizedDeltaY = 1 + Math.abs(e.deltaY) / 300; // speed\r\n    const delta = direction === 'up' ? normalizedDeltaY : 1 / normalizedDeltaY;\r\n\r\n    this.zoomDistance(delta, e.clientX, e.clientY);\r\n  }\r\n\r\n  private onPointerDown(e: PointerEvent) {\r\n    // ignore right clicks\r\n    if (e.button !== 0) {\r\n      return;\r\n    }\r\n\r\n    this.elBoard.setPointerCapture(e.pointerId);\r\n    this.isPointerDown = true;\r\n\r\n    // We get the pointer position on click so we can get the value once the user starts to drag\r\n    this.options.panOffset.x = e.clientX;\r\n    this.options.panOffset.y = e.clientY;\r\n  }\r\n\r\n  private onPointerMove(event: PointerEvent) {\r\n    // Only run this function if the pointer is down\r\n    if (!this.isPointerDown) {\r\n      return;\r\n    }\r\n\r\n    this.moveDistance(\r\n      event.clientX - this.options.panOffset.x,\r\n      event.clientY - this.options.panOffset.y,\r\n    );\r\n\r\n    this.options.panOffset.x = event.clientX;\r\n    this.options.panOffset.y = event.clientY;\r\n\r\n    this.options.onPanning(this.domMatrix.e, this.domMatrix.f);\r\n  }\r\n\r\n  private onPointerUp(e: PointerEvent) {\r\n    if (!this.isPointerDown) {\r\n      return;\r\n    }\r\n\r\n    this.elBoard.releasePointerCapture(e.pointerId);\r\n    this.isPointerDown = false;\r\n\r\n    this.options.panOffset.x += e.clientX - this.options.panOffset.x;\r\n    this.options.panOffset.y += e.clientY - this.options.panOffset.y;\r\n\r\n    this.options.onAfterPanned(this.domMatrix.e, this.domMatrix.f);\r\n  }\r\n\r\n  private onKeyDown(event: KeyboardEvent) {\r\n    switch (event.key) {\r\n      case 'ArrowLeft':\r\n        this.arrowLeftDown = true;\r\n        if (!this.isMoving) {\r\n          this.isMoving = true;\r\n          this.startMoving();\r\n        }\r\n        break;\r\n      case 'ArrowUp':\r\n        this.arrowUpDown = true;\r\n        if (!this.isMoving) {\r\n          this.isMoving = true;\r\n          this.startMoving();\r\n        }\r\n        break;\r\n      case 'ArrowRight':\r\n        this.arrowRightDown = true;\r\n        if (!this.isMoving) {\r\n          this.isMoving = true;\r\n          this.startMoving();\r\n        }\r\n        break;\r\n      case 'ArrowDown':\r\n        this.arrowDownDown = true;\r\n        if (!this.isMoving) {\r\n          this.isMoving = true;\r\n          this.startMoving();\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  private onKeyUp(event: KeyboardEvent) {\r\n    switch (event.key) {\r\n      case 'ArrowLeft':\r\n        this.arrowLeftDown = false;\r\n        break;\r\n      case 'ArrowUp':\r\n        this.arrowUpDown = false;\r\n        break;\r\n      case 'ArrowRight':\r\n        this.arrowRightDown = false;\r\n        break;\r\n      case 'ArrowDown':\r\n        this.arrowDownDown = false;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    if ([\r\n      this.arrowLeftDown,\r\n      this.arrowUpDown,\r\n      this.arrowRightDown,\r\n      this.arrowDownDown,\r\n    ].every((keyDown) => !keyDown)) {\r\n      this.stopMoving();\r\n    }\r\n  }\r\n\r\n  private dpi(value: number) {\r\n    return value / this.options.scaleRatio;\r\n  }\r\n\r\n  private updateImageRendering() {\r\n    switch (this.imageRendering) {\r\n      case InterpolationMode.Auto:\r\n        if (this.scaleRatio <= 100) {\r\n          this.elBoardContent.style.imageRendering = InterpolationMode.CrispEdges;\r\n        }\r\n        else {\r\n          this.elBoardContent.style.imageRendering = InterpolationMode.Pixelated;\r\n        }\r\n        break;\r\n\r\n      default:\r\n        this.elBoardContent.style.imageRendering = this.imageRendering;\r\n        break;\r\n    }\r\n  }\r\n\r\n  private moveDistance(x = 0, y = 0) {\r\n    // Update the transform coordinates with the distance from origin and current position\r\n    this.domMatrix.e += x;\r\n    this.domMatrix.f += y;\r\n\r\n    this.options.onPanning(this.domMatrix.e, this.domMatrix.f);\r\n\r\n    this.applyTransform();\r\n  }\r\n\r\n  private zoomDistance(delta: number, dx?: number, dy?: number, duration?: number) {\r\n    if (!this.options.allowZoom) {\r\n      return;\r\n    }\r\n\r\n    // update the current zoom factor\r\n    this.options.zoomFactor = this.domMatrix.a;\r\n\r\n    const oldZoom = this.options.zoomFactor;\r\n    const newZoom = oldZoom * delta;\r\n\r\n    // raise event onBeforeZoomChanged\r\n    this.options.onBeforeZoomChanged(this.zoomFactor, this.domMatrix.e, this.domMatrix.f);\r\n\r\n    // restrict the zoom factor\r\n    this.options.zoomFactor = Math.min(\r\n      Math.max(this.options.minZoom, newZoom),\r\n      this.options.maxZoom,\r\n    );\r\n\r\n    const newX = (dx ?? this.elBoard.offsetLeft) - this.elBoard.offsetLeft;\r\n    const newY = (dy ?? this.elBoard.offsetTop) - this.elBoard.offsetTop;\r\n    let newDelta = delta;\r\n\r\n    // check zoom -> maxZoom\r\n    if (newZoom * this.options.scaleRatio > this.options.maxZoom) {\r\n      newDelta = this.dpi(this.options.maxZoom) / oldZoom;\r\n      this.options.zoomFactor = this.dpi(this.options.maxZoom);\r\n    }\r\n\r\n    // check zoom -> minZoom\r\n    else if (newZoom * this.options.scaleRatio < this.options.minZoom) {\r\n      newDelta = this.dpi(this.options.minZoom) / oldZoom;\r\n      this.options.zoomFactor = this.dpi(this.options.minZoom);\r\n    }\r\n\r\n    this.domMatrix = new DOMMatrix()\r\n      .translateSelf(newX, newY)\r\n      .scaleSelf(newDelta)\r\n      .translateSelf(-newX, -newY)\r\n      .multiplySelf(this.domMatrix);\r\n\r\n    // raise event onAfterZoomChanged\r\n    this.options.onAfterZoomChanged(this.zoomFactor, this.domMatrix.e, this.domMatrix.f);\r\n\r\n\r\n    this.updateImageRendering();\r\n    this.applyTransform(duration);\r\n  }\r\n\r\n  private startMoving() {\r\n    const speed = 20;\r\n    let x = 0;\r\n    let y = 0;\r\n\r\n    if (this.arrowLeftDown && !this.arrowRightDown) {\r\n      x = speed;\r\n    } else if (!this.arrowLeftDown && this.arrowRightDown) {\r\n      x = -speed;\r\n    }\r\n\r\n    if (this.arrowUpDown && !this.arrowDownDown) {\r\n      y = speed;\r\n    } else if (!this.arrowUpDown && this.arrowDownDown) {\r\n      y = -speed;\r\n    }\r\n\r\n    this.moveDistance(x, y);\r\n    this.animationFrame = requestAnimationFrame(this.startMoving);\r\n  }\r\n\r\n  private stopMoving() {\r\n    cancelAnimationFrame(this.animationFrame);\r\n    this.isMoving = false;\r\n  }\r\n  // #endregion\r\n\r\n\r\n  // #region Public functions\r\n  public async panTo(x: number, y: number, duration?: number) {\r\n    this.domMatrix.e = x;\r\n    this.domMatrix.f = y;\r\n\r\n    await this.applyTransform(duration);\r\n  }\r\n\r\n  public async zoomTo(factor: number, x?: number, y?: number, duration?: number) {\r\n    // restrict the zoom factor\r\n    this.options.zoomFactor = Math.min(\r\n      Math.max(this.options.minZoom, this.dpi(factor)),\r\n      this.options.maxZoom,\r\n    );\r\n\r\n    // raise event onBeforeZoomChanged\r\n    this.options.onBeforeZoomChanged(this.zoomFactor, this.domMatrix.e, this.domMatrix.f);\r\n\r\n    // apply scale and translate value\r\n    this.domMatrix.a = this.options.zoomFactor;\r\n    this.domMatrix.d = this.options.zoomFactor;\r\n    this.domMatrix.e = x || 0;\r\n    this.domMatrix.f = y || 0;\r\n\r\n    // raise event onAfterZoomChanged\r\n    this.options.onAfterZoomChanged(this.zoomFactor, this.domMatrix.e, this.domMatrix.f);\r\n\r\n    await this.applyTransform(duration);\r\n  }\r\n\r\n  public applyTransform(duration: number = 0) {\r\n    return new Promise((resolve) => {\r\n      this.elBoardContent.style.transform = `${this.domMatrix.toString()}`;\r\n\r\n      // apply animation\r\n      if (duration > 0) {\r\n        const transition = `transform ${duration}ms ease, opacity ${duration}ms ease`;\r\n        this.elBoardContent.style.transition = transition;\r\n\r\n        setTimeout(resolve, duration);\r\n      }\r\n      else {\r\n        this.elBoardContent.style.transition = '';\r\n        resolve(undefined);\r\n      }\r\n    })\r\n      .then(() => {\r\n        // raise event\r\n        this.options.onAfterTransformed(this.domMatrix);\r\n      });\r\n  }\r\n\r\n  public enable() {\r\n    this.applyTransform();\r\n\r\n    this.elBoard.addEventListener('wheel', this.onMouseWheel, { passive: true });\r\n\r\n    this.elBoard.addEventListener('pointerdown', this.onPointerDown);\r\n    this.elBoard.addEventListener('pointerup', this.onPointerUp);\r\n    this.elBoard.addEventListener('pointerleave', this.onPointerUp);\r\n    this.elBoard.addEventListener('pointermove', this.onPointerMove);\r\n\r\n    this.elBoard.addEventListener('keydown', this.onKeyDown);\r\n    this.elBoard.addEventListener('keyup', this.onKeyUp);\r\n  }\r\n\r\n  public disable() {\r\n    this.elBoard.removeEventListener('mousewheel', this.onMouseWheel);\r\n\r\n    this.elBoard.removeEventListener('pointerdown', this.onPointerDown);\r\n    this.elBoard.removeEventListener('pointerup', this.onPointerUp);\r\n    this.elBoard.removeEventListener('pointerleave', this.onPointerUp);\r\n    this.elBoard.removeEventListener('pointermove', this.onPointerMove);\r\n\r\n    this.elBoard.removeEventListener('keydown', this.onKeyDown);\r\n    this.elBoard.removeEventListener('keyup', this.onKeyUp);\r\n  }\r\n\r\n  public async waitForContentReady() {\r\n    const list = this.elBoardContent.querySelectorAll('img');\r\n    const imgs = Array.from(list);\r\n\r\n    while (imgs.some((i) => !i.complete)) {\r\n      // eslint-disable-next-line\r\n      await pause(10);\r\n    }\r\n\r\n    // emit event onContentReady\r\n    this.options.onContentReady();\r\n  }\r\n  // #endregion\r\n}\r\n","\r\nexport interface IRect {\r\n  left: number;\r\n  right: number;\r\n  top: number;\r\n  bottom: number;\r\n}\r\n\r\nexport const pause = (duration: number) => new Promise((resolve) => setTimeout(resolve, duration));\r\n\r\nexport const checkRectanglesIntersection = (rectangle1: IRect, rectangle2: IRect) => !(\r\n  rectangle2.left > rectangle1.right\r\n  || rectangle2.right < rectangle1.left\r\n  || rectangle2.top > rectangle1.bottom\r\n  || rectangle2.bottom < rectangle1.top\r\n);\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\r\nexport * from './modules/Board';\r\n"],"sourceRoot":""}